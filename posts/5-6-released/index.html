<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="og:site_name" content="SwiftWasm Blog"/><link rel="canonical" href="https://blog.swiftwasm.org/posts/5-6-released"/><meta name="twitter:url" content="https://blog.swiftwasm.org/posts/5-6-released"/><meta name="og:url" content="https://blog.swiftwasm.org/posts/5-6-released"/><title>SwiftWasm 5.6.0 is now available | SwiftWasm Blog</title><meta name="twitter:title" content="SwiftWasm 5.6.0 is now available | SwiftWasm Blog"/><meta name="og:title" content="SwiftWasm 5.6.0 is now available | SwiftWasm Blog"/><meta name="description" content="SwiftWasm 5.6.0 has been released."/><meta name="twitter:description" content="SwiftWasm 5.6.0 has been released."/><meta name="og:description" content="SwiftWasm 5.6.0 has been released."/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="/styles.css" type="text/css"/><link rel="stylesheet" href="/splash.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link href="https://fonts.googleapis.com/css2?family=Lora:wght@600&display=swap" rel="stylesheet"/><link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to SwiftWasm Blog"/></head><body class="item-page"><header><div class="wrapper"><a class="site-name" href="/">SwiftWasm Blog</a></div></header><div class="wrapper"><article><p><small>Published on <time datetime="2022-05-02T10:10:00Z">May 2, 2022.</time></small></p><div class="content"><h1>SwiftWasm 5.6.0 is now available</h1><p>We're happy to announce the new release of SwiftWasm tracking upstream Swift 5.6!</p><p>Notable WebAssembly-specific changes in this release:</p><ul><li>The toolchain is now available for Ubuntu 20.04 on <code>aarch64</code> and Amazon Linux 2 on <code>x86_64</code> architectures.</li><li>Updated WASI SDK with support for <a href="https://github.com/WebAssembly/WASI/issues/13">"reactor" and "command" execution models</a>. You should be using "reactor" model for event-based (browser) applications, while "command" mode is suitable for command-line applications.</li></ul><p>With 5.6 release, when building SwiftWasm apps manually with <code>swift build</code>, you should pass <code>-Xswiftc -Xclang-linker -Xswiftc -mexec-model=reactor</code> flags to enable the "reactor" mode. When building with <code>carton</code>, "reactor" model is enabled automatically.</p><p>As for changes in upstream Swift 5.6, we recommend referring <a href="https://github.com/apple/swift/blob/release/5.6/CHANGELOG.md#swift-56">to the official changelog</a>. For convenience, here are some of the Swift Evolution proposals included in the release:</p><ul><li><a href="https://github.com/apple/swift-evolution/blob/main/proposals/0290-negative-availability.md">SE-0290</a> - Unavailability Condition</li><li><a href="https://github.com/apple/swift-evolution/blob/main/proposals/0305-swiftpm-binary-target-improvements.md">SE-0305</a> - Package Manager Binary Target Improvements</li><li><a href="https://github.com/apple/swift-evolution/blob/main/proposals/0315-placeholder-types.md">SE-0315</a> - Type placeholders (formerly, “Placeholder types”)</li><li><a href="https://github.com/apple/swift-evolution/blob/main/proposals/0320-codingkeyrepresentable.md">SE-0320</a> - Allow coding of non <code>String</code>/<code>Int</code> keyed <code>Dictionary</code> into a <code>KeyedContainer</code></li><li><a href="https://github.com/apple/swift-evolution/blob/main/proposals/0322-temporary-buffers.md">SE-0322</a> - Temporary uninitialized buffers</li><li><a href="https://github.com/apple/swift-evolution/blob/main/proposals/0324-c-lang-pointer-arg-conversion.md">SE-0324</a> - Relax diagnostics for pointer arguments to C functions</li><li><a href="https://github.com/apple/swift-evolution/blob/main/proposals/0325-swiftpm-additional-plugin-apis.md">SE-0325</a> - Additional Package Plugin APIs</li><li><a href="https://github.com/apple/swift-evolution/blob/main/proposals/0331-remove-sendable-from-unsafepointer.md">SE-0331</a> - Remove <code>Sendable</code> conformance from unsafe pointer types</li><li><a href="https://github.com/apple/swift-evolution/blob/main/proposals/0332-swiftpm-command-plugins.md">SE-0332</a> - Package Manager Command Plugins</li><li><a href="https://github.com/apple/swift-evolution/blob/main/proposals/0335-existential-any.md">SE-0335</a> - Introduces existential <code>any</code></li><li><a href="https://github.com/apple/swift-evolution/blob/main/proposals/0337-support-incremental-migration-to-concurrency-checking.md">SE-0337</a> - Incremental migration to concurrency checking</li></ul><h2>New JavaScriptKit runtime</h2><p><a href="https://github.com/swiftwasm/JavaScriptKit">JavaScriptKit</a> 0.14 is a breaking release that enables full support for SwiftWasm 5.6 and lays groundwork for <a href="https://github.com/swiftwasm/DOMKit/pull/10">future updates</a> to <a href="https://github.com/swiftwasm/DOMKit/">DOMKit</a>.</p><p>Specifically, the <code>ConvertibleToJSValue</code> conformance on <code>Array</code> and <code>Dictionary</code> has been swapped from the equality <code>== ConvertibleToJSValue</code> clause to the inheritance <code>: ConvertibleToJSValue</code> clause.</p><ul><li>This means that e.g. <code>[String]</code> is now <code>ConvertibleToJSValue</code>, but <code>[ConvertibleToJSValue]</code> no longer conforms.</li><li>the <code>jsValue()</code> method still works in both cases.</li><li>to adapt existing code, use one of these approaches:<ul><li>use generics where possible (for single-type arrays)</li><li>call <code>.map { $0.jsValue() }</code> (or <code>mapValues</code>) to get an array/dictionary of <code>JSValue</code> which you can then use as <code>ConvertibleToJSValue</code></li><li>add <code>.jsValue</code> to the end of all values in an array/dictionary literal.</li></ul></li></ul><h2>carton</h2><p>The 0.14 release of <a href="https://carton.dev"><code>carton</code></a> uses SwiftWasm 5.6.0 as the default toolchain. Additionally, issue with rebuilding projects when watching for file changes with <code>carton dev</code> has been fixed. Also, please refer to <a href="https://github.com/swiftwasm/carton/releases/tag/0.13.0">release details for <code>carton</code> 0.13.0</a> for more information on new recently introduced <code>--debug-info</code> and <code>-Xswiftc</code> command-line flags.</p><h2>Tokamak</h2><p><a href="https://tokamak.dev">Tokamak</a> 0.10.0 adds support for SwiftWasm 5.6. It also updates JavaScriptKit and OpenCombineJS dependencies. Due to issues with support for older SwiftWasm releases in the carton/SwiftPM integration, Tokamak now requires SwiftWasm 5.6 or later, while SwiftWasm 5.4 and 5.5 are no longer supported.</p><h2>OpenCollective Budget</h2><p>As may already know, <a href="https://opencollective.com/swiftwasm">our OpenCollective page</a> is the main way to financially support us. We're committed to publishing transparent and open finances, so we are excited to announce that all expenses and transactions can be viewed publicly on our <a href="https://opencollective.com/swiftwasm/transactions">OpenCollective Transactions</a> page.</p><p>So far we've spent money on monthly CI bills that cover new <code>aarch64</code> CPU architecture and Linux distributions, domain registration, email hosting, and development hardware for our maintainers.</p><h2>Acknowledgements</h2><p>We'd like to thank <a href="https://github.com/sponsors/swiftwasm">our GitHub sponsors</a> and <a href="https://opencollective.com/swiftwasm">OpenCollective contributors</a> for their support, which allowed us to continue working on SwiftWasm and related projects.</p><p>Many thanks to <a href="https://www.macstadium.com">MacStadium</a> for giving us access to Apple Silicon hardware. Without their help it would be close to impossible to set up CI for enabling full M1 support in our toolchain.</p><p>Additionally, we'd like to thank everyone who contributed their work and helped us make this release happen. These new releases wouldn't be possible without the hard work of (in alphabetical order):</p><ul><li><a href="https://github.com/andrewbarba">@andrewbarba</a></li><li><a href="https://github.com/carson-katri">@carson-katri</a></li><li><a href="https://github.com/ezraberch">@ezraberch</a></li><li><a href="https://github.com/fjtrujy">@fjtrujy</a></li><li><a href="https://github.com/j-f1">@j-f1</a></li><li><a href="https://github.com/kateinoigakukun">@kateinoigakukun</a></li><li><a href="https://github.com/MaxDesiatov">@MaxDesiatov</a></li><li><a href="https://github.com/pedrovgs">@pedrovgs</a></li><li><a href="https://github.com/SDGGiesbrecht">@SDGGiesbrecht</a></li><li><a href="https://github.com/SwiftCoderJoe">@SwiftCoderJoe</a></li><li><a href="https://github.com/yonihemi/">@yonihemi</a></li></ul><p>...and to all of our users, and everyone working on the Swift project and libraries we depend on!</p></div></article></div><footer><p>Generated using <a href="https://github.com/johnsundell/publish">Publish</a></p><p><a href="/feed.rss">RSS feed</a></p></footer></body></html>